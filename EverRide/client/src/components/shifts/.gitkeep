powershell
# quick-migrate.ps1
# Simple script to migrate Firebase project structure to EverRide structure
# Usage: .\quick-migrate.ps1

# Text formatting for console output
function Write-Green($text) { Write-Host $text -ForegroundColor Green }
function Write-Blue($text) { Write-Host $text -ForegroundColor Blue }
function Write-Yellow($text) { Write-Host $text -ForegroundColor Yellow }
function Write-Red($text) { Write-Host $text -ForegroundColor Red }

# Print header
Write-Blue "=========================================================="
Write-Blue "  EverRide Quick Migration Script"
Write-Blue "  Restructure Firebase project to EverRide format"
Write-Blue "=========================================================="
Write-Host ""

# Confirm with user
Write-Yellow "This script will restructure your project in the current directory."
Write-Yellow "Make sure you have committed all changes to Git before proceeding."
$confirmation = Read-Host "Do you want to continue? (y/n)"
if ($confirmation -ne 'y') {
    Write-Host "Migration cancelled. Exiting..."
    exit
}

# Create backup
$timestamp = Get-Date -Format "yyyyMMdd_HHmmss"
$backupDir = "../project_backup_$timestamp"
Write-Host "Creating backup at: $backupDir"
Copy-Item -Path . -Destination $backupDir -Recurse -Force -Exclude "node_modules"
Write-Green "âœ“ Backup created"

# Step 1: Create new directory structure
Write-Blue "Step 1: Creating directory structure..."

$directories = @(
    "client/src/components/ui",
    "client/src/components/shifts",
    "client/src/components/core/charts",
    "client/src/components/trips",
    "client/src/components/expenses",
    "client/src/components/bookings",
    "client/src/contexts",
    "client/src/hooks",
    "client/src/pages",
    "client/src/lib",
    "client/src/styles",
    "client/src/stores",
    "server/functions",
    "server/dataconnect",
    "server/api",
    "public/icons"
)

foreach ($dir in $directories) {
    if (!(Test-Path $dir)) {
        New-Item -Path $dir -ItemType Directory -Force | Out-Null
        Write-Host "  Created: $dir"
    }
}
Write-Green "âœ“ Directory structure created"

# Step 2: Move files (This section needs to be manually added based on your project's structure)
Write-Blue "Step 2: Moving files..."

# Example: Move all files from the current src/components/ui to the new location
# if (Test-Path "src/components/ui") {
#     Get-ChildItem "src/components/ui" | Move-Item -Destination "client/src/components/ui" -Force
#     Write-Host "  Moved src/components/ui to client/src/components/ui"
# }

# Example: Move specific file
# if (Test-Path "src/app/globals.css") {
#     Move-Item -Path "src/app/globals.css" -Destination "client/src/styles/globals.css" -Force
#     Write-Host "  Moved src/app/globals.css to client/src/styles/globals.css"
# }

# Add more Move-Item commands here for all files/folders you want to move

Write-Green "âœ“ File moving complete (review logs and add specific moves)"

# Step 3: Clean up old directories (Optional - do this after confirming moves)
# Write-Blue "Step 3: Cleaning up old directories..."
# Remove-Item -Path "src" -Recurse -Force # Use with caution!
# Remove-Item -Path "studio" -Recurse -Force # Use with caution!

Write-Green "âœ“ Migration completed!"
Write-Host ""
Write-Yellow "Next steps:"
Write-Host "1. **MANUALLY EDIT THIS SCRIPT TO ADD FILE/FOLDER MOVE COMMANDS**"
Write-Host "2. Run this script again."
Write-Host "3. Check for any missed files and move them manually"
Write-Host "4. Update import paths in your code"
Write-Host "5. Run 'npm install' to verify dependencies"
Write-Host "6. Test your application"
Write-Host ""
Write-Blue "Happy coding with your restructured EverRide project! ðŸš—ðŸ’¨"